<!DOCTYPE html>
<html>
<head>
    <title>Stock Price Prediction</title>
     <!-- Template Main CSS File -->
  <link href="{{ url_for('static', filename = 'css/style.css') }}" rel="stylesheet">
    <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- JQUERY FOR LOADING MODAL -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <style>
        body {
            background-color: #fff;
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            box-shadow: 0 0 10px rgba(128, 128, 128, 0.2);
            background-color: #fff;
        }

        h1 {
            color: #24a0ed;
        }

        form {
            display: flex;
            flex-direction: column;
        }

        label {
            margin: 5px 0;
        }

        select,
        input[type="date"] {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
            margin: 5px 0;
        }

        button[type="submit"] {
            background-color: #24a0ed;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }

        button[type="submit"]:hover {
            background-color: #0f7fb7;
        }
        .pp-button {
            background-color: #1dc64a;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            text-decoration: none;
        }
        /* .pp-button:hover{
          background-color: #5ac770;
        } */
    </style>
</head>
<body>
    <header id="header" class="fixed-top">
        <div class="container d-flex align-items-center justify-content-between">
    
          <h1 class="logo"><a href="{{ url_for('home')}}">AuFinAd</a></h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
    
          <nav id="navbar" class="navbar">
            <ul>
              <li><a class="nav-link scrollto active" href="{{ url_for('home')}}">Home</a></li>
              <!-- <li><a class="nav-link scrollto" href="#about">About</a></li>
              <li><a class="nav-link scrollto" href="{{url_for('home')}}">Services</a></li>          
              <li><a class="nav-link scrollto" href="#team">Team</a></li>          
              <li class="dropdown"><a href="#"><span>Drop Down</span> <i class="bi bi-chevron-down"></i></a>
                <ul>
                  <li><a href="#">Drop Down 1</a></li>
                  <li class="dropdown"><a href="#"><span>Deep Drop Down</span> <i class="bi bi-chevron-right"></i></a>
                    <ul>
                      <li><a href="#">Deep Drop Down 1</a></li>
                      <li><a href="#">Deep Drop Down 2</a></li>
                      <li><a href="#">Deep Drop Down 3</a></li>
                      <li><a href="#">Deep Drop Down 4</a></li>
                      <li><a href="#">Deep Drop Down 5</a></li>
                    </ul>
                  </li>
                  <li><a href="#">Drop Down 2</a></li>
                  <li><a href="#">Drop Down 3</a></li>
                  <li><a href="#">Drop Down 4</a></li>
                </ul>
              </li>
              <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
              <li><a class="getstarted scrollto" href="#services">Get Started</a></li>
            </ul> -->
            <i class="bi bi-list mobile-nav-toggle"></i>
          </nav><!-- .navbar -->
    
        </div>
      </header><!-- End Header -->
    <div class="container">
        <br><br><br><br><br><br>
        <h1>Stock Price Prediction</h1>
        <form id="predictForm"method="POST" action="/predict">
            <label for="stock_symbol">Select a stock to predict:</label>
            <select name="stock_symbol" id="stock_symbol">
              <option value="ASIANPAINT.NS">Asian Paints Ltd (ASIANPAINT.NS)</option>
              <option value="EICHERMOT.NS">Eicher Motors Ltd (EICHERMOT.NS)</option>
              <option value="NESTLEIND.NS">Nestle India Ltd (NESTLEIND.NS)</option>
              <option value="GRASIM.NS">Grasim Industries Ltd (GRASIM.NS)</option>
              <option value="HEROMOTOCO.NS">Hero MotoCorp Ltd (HEROMOTOCO.NS)</option>
              <option value="HINDALCO.NS">Hindalco Industries Ltd (HINDALCO.NS)</option>
              <option value="HINDUNILVR.NS">Hindustan Unilever Ltd (HINDUNILVR.NS)</option>
              <option value="ITC.NS">ITC Ltd (ITC.NS)</option>
              <option value="LT.NS">Larsen & Toubro Ltd (LT.NS)</option>
              <option value="M&M.NS">Mahindra & Mahindra Ltd (M&M.NS)</option>
              <option value="RELIANCE.NS">Reliance Industries Ltd (RELIANCE.NS)</option>
              <option value="TATAMOTORS.NS">Tata Motors Ltd (TATAMOTORS.NS)</option>
              <option value="TATASTEEL.NS">Tata Steel Ltd (TATASTEEL.NS)</option>
              <option value="WIPRO.NS">Wipro Ltd (WIPRO.NS)</option>
              <option value="DRREDDY.NS">Dr. Reddy's Laboratories Ltd (DRREDDY.NS)</option>
              <option value="TITAN.NS">Titan Company Ltd (TITAN.NS)</option>
              <option value="SBIN.NS">State Bank of India (SBIN.NS)</option>
              <option value="KOTAKBANK.NS">Kotak Mahindra Bank Ltd (KOTAKBANK.NS)</option>
              <option value="UPL.NS">UPL Ltd (UPL.NS)</option>
              <option value="INFY.NS">Infosys Ltd (INFY.NS)</option>
              <option value="BAJFINANCE.NS">Bajaj Finance Ltd (BAJFINANCE.NS)</option>
              <option value="SUNPHARMA.NS">Sun Pharmaceutical Industries Ltd (SUNPHARMA.NS)</option>
              <option value="JSWSTEEL.NS">JSW Steel Ltd (JSWSTEEL.NS)</option>
              <option value="HDFCBANK.NS">HDFC Bank Ltd (HDFCBANK.NS)</option>
              <option value="TCS.NS">Tata Consultancy Services Ltd (TCS.NS)</option>
              <option value="ICICIBANK.NS">ICICI Bank Ltd (ICICIBANK.NS)</option>
              <option value="POWERGRID.NS">Power Grid Corporation of India Ltd (POWERGRID.NS)</option>
              <option value="MARUTI.NS">Maruti Suzuki India Ltd (MARUTI.NS)</option>
              <option value="INDUSINDBK.NS">IndusInd Bank Ltd (INDUSINDBK.NS)</option>
              <option value="AXISBANK.NS">Axis Bank Ltd (AXISBANK.NS)</option>
              <option value="HCLTECH.NS">HCL Technologies Ltd (HCLTECH.NS)</option>
              <option value="ONGC.NS">Oil & Natural Gas Corporation Ltd (ONGC.NS)</option>
              <option value="NTPC.NS">NTPC Ltd (NTPC.NS)</option>
              <option value="BHARTIARTL.NS">Bharti Airtel Ltd (BHARTIARTL.NS)</option>
              <option value="TECHM.NS">Tech Mahindra Ltd (TECHM.NS)</option>
              <option value="ZEEL.NS">Zee Entertainment Enterprises Ltd (ZEEL.NS)</option>
              <option value="ADANIPORTS.NS">Adani Ports & Special Economic Zone Ltd (ADANIPORTS.NS)</option>
              <option value="ULTRACEMCO.NS">UltraTech Cement Ltd (ULTRACEMCO.NS)</option>
              <option value="BAJAJ-AUTO.NS">Bajaj Auto Ltd (BAJAJ-AUTO.NS)</option>
              <option value="SBILIFE.NS">SBI Life Insurance Company Ltd (SBILIFE.NS)</option>
              <option value="HDFCLIFE.NS">HDFC Life Insurance Company Ltd (HDFCLIFE.NS)</option>
              <option value="BSE.NS">BSE Ltd (BSE.NS)</option>
              <option value="GAIL.NS">GAIL (India) Ltd (GAIL.NS)</option>
              <option value="BRITANNIA.NS">Britannia Industries Ltd (BRITANNIA.NS)</option>
              <option value="DIVISLAB.NS">Divis Laboratories Ltd (DIVISLAB.NS)</option>
              <option value="APOLLOHOSP.NS">Apollo Hospitals Enterprise Ltd (APOLLOHOSP.NS)</option>
              
            </select><br>

            <label for="start_date">Start Date:</label>
            <input type="date" name="start_date" id="start_date" required><br>

            <label for="end_date">End Date:</label>
            <input type="date" name="end_date" id="end_date" required><br>

            <button type="submit" >Predict</button>
        </form>
        <!-- Modal -->
          <div class="modal fade" id="predictionModal" tabindex="-1" aria-labelledby="predictionModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="predictionModalLabel">Previous Predictions</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        {% if predictions %}
                        <ul class="list-group">
                            {% for prediction in predictions %}
                            <li class="list-group-item">
                                <h5>Stock: {{ prediction.stock_symbol }}</h5>
                                <p>Start Date: {{ prediction.start_date }}</p>
                                <p>End Date: {{ prediction.end_date }}</p>
                                <p>Predicted Closing Price for Next Day: {{ prediction.next_day_price }}</p>
                                <!-- <img src="data:image/png;base64,{{ prediction.plot_data }}" class="img-fluid"> -->
                                <form method="POST" action="{{ url_for('delete_prediction', prediction_id=prediction.id) }}">
                                  <button type="submit" class="btn btn-danger">Delete</button>
                                </form>
                            </li>
                            {% endfor %}
                        </ul>
                        {% else %}
                        <p>No previous predictions found.</p>
                        {% endif %}
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
          </div>
        </div>
        <br>
        <div class="container">
          <a href="#" class="pp-button"  data-bs-toggle="modal" data-bs-target="#predictionModal">Previous Predictions</a>
        </div>
        <div class="modal" id="loadingModal" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-body">
                <div class="spinner-border text-primary" role="status">
                  <span class="sr-only"></span>
                </div>
                <p>Loading...</p>
              </div>
            </div>
          </div>
        </div>
        <!-- JavaScript libraries -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

        <script>
          document.getElementById('predictForm').addEventListener('submit', function() {
            $('#loadingModal').modal('show');
          });
        </script>
</body>
</html>
